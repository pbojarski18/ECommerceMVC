@using ECommerceMVC.Application.Dtos.Products
@model IEnumerable<ECommerceMVC.Application.Dtos.Products.ProductDto>
@{
    var filters = new GetPagedByFiltersTransferDto()
            {
                CurrentPage = 1,
                PageSize = 10
            };
}

<h2 class="text-center my-4">Product List</h2>

<div class="container">
    <form method="post" asp-action="CustomerProduct" class="mb-4">
        <div class="form-group">
            <label for="productType">Select Product Type:</label>
            <select id="productType" name="productType" class="form-control">
                <option value="">All</option>
                <option value="1">Rackets</option>
                <option value="2">Balls</option>
                <option value="3">Bags</option>
                <option value="4">Accessories</option>
            </select>
        </div>
        <input type="hidden" name="CurrentPage" value="@filters.CurrentPage" />
        <input type="hidden" name="PageSize" value="@filters.PageSize" />
        <div class="form-group">
            <label for="minWeight">Minimum Weight:</label>
            <input type="number" id="minWeight" name="minWeight" class="form-control" />
        </div>

        <div class="form-group">
            <label for="maxWeight">Maximum Weight:</label>
            <input type="number" id="maxWeight" name="maxWeight" class="form-control" />
        </div>

        <div class="form-group">
            <label for="minPrice">Minimum Price:</label>
            <input type="number" id="minPrice" name="minPrice" class="form-control" />
        </div>

        <div class="form-group">
            <label for="maxPrice">Maximum Price:</label>
            <input type="number" id="maxPrice" name="maxPrice" class="form-control" />
        </div>

        <div class="form-group">
            <label for="name">Product Name:</label>
            <input type="text" id="name" name="name" class="form-control" />
        </div>

        <button type="submit" class="btn btn-primary">Filter</button>
    </form>

    <table class="table table-striped">
        <thead class="thead-dark">
            <tr>
                <th>Name</th>
                <th>Price</th>
                <th>Description</th>
                <th>Brand</th>
                <th>Sex</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                foreach (var product in Model)
                {
                    <tr>
                        <td>@product.Name</td>
                        <td>@product.Price.ToString("C")</td> <!-- Format price as currency -->
                        <td>@product.Description</td>
                        <td>@product.Brand</td>
                        <td>@product.Sex</td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="6" class="text-center">No products found.</td>
                </tr>
            }
        </tbody>
    </table>
</div>